#include <stdio.h>
#include <string.h>


int SBOX[4] = {4, 1, 3, 2};

int F(int x, int key) {
    int expanded = (x << 1) ^ key; 
    int sValue = SBOX[expanded % 4]; 
    return sValue;
}

int main() {
    char plaintext[] = "HI";
    int L = plaintext[0]; 
    int R = plaintext[1]; 

    int key1 = 5; 
    int key2 = 7;
    int temp;

    temp = L;
    L = R;
    R = temp ^ F(R, key1);

    temp = L;
    L = R;
    R = temp ^ F(R, key2);

    int encL = L;
    int encR = R;

    L = encL;
    R = encR;

    temp = R;
    R = L;
    L = temp ^ F(R, key2);

    temp = R;
    R = L;
    L = temp ^ F(R, key1);

    printf("Plaintext : %s\n", plaintext);
    printf("Encrypted : %c%c\n", encL, encR);
    printf("Decrypted : %c%c\n", L, R);

    return 0;
}
